montageDefine("84c41d8","core/serialization/deserializer/self-deserializer",{dependencies:["core/core","core/promise"],factory:function(e,n){var s=e("core/core").Montage;e("core/promise").Promise;var a=s.specialize({_object:{value:null},_objectDescriptor:{value:null},_context:{value:null},_unitNames:{value:null},_objectUnitNames:{value:null},create:{value:function(){return new this}},initWithObjectAndObjectDescriptorAndContextAndUnitNames:{value:function(e,n,s,a){return this._object=e,this._objectDescriptor=n,this._context=s,this._unitNames=a,this}},getProperty:{value:function(e){return this._objectDescriptor.properties?this._objectDescriptor.properties[e]:void 0}},getType:{value:function(){return"prototype"in this._objectDescriptor?"prototype":"object"in this._objectDescriptor?"object":void 0}},getTypeValue:{value:function(){return this._objectDescriptor.prototype||this._objectDescriptor.object}},getObjectByLabel:{value:function(e){this._context.getObject(e)}},deserializeProperties:{value:function(e){var n,a=this._object,t=this._objectDescriptor.properties;if(t){e||(e=s.getSerializablePropertyNames(a));for(var o=0,i=e.length;i>o;o++)n=e[o],a[n]=t[n]}}},deserializeUnit:{value:function(e){var n=this._objectUnitNames;n?-1===n.indexOf(e)&&n.push(e):(n=this._objectUnitNames=[e],this._context.setUnitsToDeserialize(this._object,this._objectDescriptor,n))}},deserializeUnits:{value:function(){var e=this._objectUnitNames;if(e)for(var n,s=0;n=e[s];s++)-1===e.indexOf(n)&&e.push(n);else e=this._objectUnitNames=this._unitNames,this._context.setUnitsToDeserialize(this._object,this._objectDescriptor,e)}}});n.SelfDeserializer=a}});